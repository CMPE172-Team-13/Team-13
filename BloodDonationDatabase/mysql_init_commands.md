DROP DATABASE IF EXISTS BloodDonation;

CREATE DATABASE BloodDonation;

USE BloodDonation;

CREATE TABLE site(
    id INT NOT NULL AUTO_INCREMENT,
    name VARCHAR(75) NOT NULL,
    location VARCHAR(100) NOT NULL,
    PRIMARY KEY (id)	
);

CREATE TABLE hospital(
    id INT NOT NULL AUTO_INCREMENT,
    name VARCHAR(45) NOT NULL,
    location VARCHAR(100) NOT NULL,
    capacity REAL NOT NULL,
    PRIMARY KEY (id)	
    );
    
CREATE TABLE donation(
    id INT NOT NULL AUTO_INCREMENT,
    site_id INT NOT NULL,
    hospital_id INT NOT NULL,
    blood_type VARCHAR(2) NOT NULL,
    donation_number VARCHAR(10) NOT NULL,
    a_date DATE,
    PRIMARY KEY (id),
	FOREIGN KEY (site_id) REFERENCES site(id) ON DELETE CASCADE,
	FOREIGN KEY (hospital_id) REFERENCES hospital(id) ON DELETE CASCADE
);

CREATE TABLE donation_site(
    id INT NOT NULL AUTO_INCREMENT,
    donation_id INT NOT NULL,
    site_id INT NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (donation_id) REFERENCES donation(id) ON DELETE CASCADE,
    FOREIGN KEY (site_id) REFERENCES site(id) ON DELETE CASCADE
);

CREATE TABLE site_hospital(
	id INT NOT NULL AUTO_INCREMENT,
    site_id INT NOT NULL,
    hospital_id INT NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (site_id) REFERENCES site(id) ON DELETE CASCADE,
    FOREIGN KEY (hospital_id) REFERENCES hospital(id) ON DELETE CASCADE
);

INSERT INTO site 
	(name, location)
VALUES 
	('San Jose American Red Cross Blood Donation Center', '2731 North First Street, San Jose, CA 95134'),
	('Vitalant', '2575 Coit Dr, San Jose, CA 95124'),
	('Stanford Blood Center', '295 E Hamilton Ave, Campbell, CA 95008'),
	('Newark American Red Cross Blood Donation Center', '39227 Cedar Boulevard, Newark, CA 94560');
    
#SELECT * FROM site;

INSERT INTO hospital 
	(name, location, capacity)
VALUES 
	('Good Samaritan Hospital', '2425 Samaritan Dr, San Jose, CA 95124', '35'),
	('O''Connor Hospital', '2105 Forest Ave, San Jose, CA 95128', '30'),
	('Regional Medical Center', '225 N Jackson Ave, San Jose, CA 95116', '30'),
	('Santa Clara Valley Medical Center', '751 S Bascom Ave, San Jose, CA 95128', '40'),
	('Kaiser Permanente San Jose Medical Center', '250 Hospital Pkwy, San Jose, CA 95119', '40'),
	('Washington Hospital', '2000 Mowry Ave, Fremont, CA 94538', '30'),
	('Sutter Health', '701 E El Camino Real, Mountain View, CA 94040', '35'),
	('Stanford Hospital', '300 Pasteur Dr, Stanford, CA 94305', '45'),
	('Kaiser Permanente Santa Clara', '700 Lawrence Expy, Santa Clara, CA 95051', '35'),
	('Sequoia Hospital', '170 Alameda de las Pulgas, Redwood City, CA 94062', '25'),
	('El Camino Hospital Mountain View', '2500 Grant Rd, Mountain View, CA 94040', '35'),
	('El Camino Hospital Los Gatos', '815 Pollard Rd, Los Gatos, CA 95032', '35'),
	('VA Hospital', '3801 Miranda Ave, Palo Alto, 94304', '20'),
	('Kaiser Permanente Cupertino ', '10050 N Wolfe Rd, Cupertino, CA 95014', '30'),
	('St. Louise Regional Hospital', '9400 No Name Uno, Gilroy, CA 95020', '25');
    
INSERT INTO donation
    (site_id, hospital_id, blood_type, donation_number, a_date)
VALUES
	('1', '1', 'B', '9GDVQMWIXT', '2020-3-25'),
	('4', '3', 'A', '2GGECJDCJO', '2020-2-15'),
	('3', '10', 'AB', '6GFKDMZVMH', '2020-4-17'),
	('4', '12', 'O', '4TOAQIUXCB', '2020-4-17'),
	('4', '3', 'O', '6WIBXJRHIL', '2020-4-22'),
	('1', '7', 'A', '8EMPLSLIRH', '2020-2-1'),
	('1', '1', 'A', '1WUJOXXWEZ', '2020-2-12'),
	('2', '4', 'O', '4LHPLQBHMN', '2020-2-27'),
	('4', '9', 'A', '0XTVDIJSRS', '2020-4-1'),
	('1', '7', 'O', '7TEZEVKPTM', '2020-2-19'),
	('1', '1', 'A', '4DMUMYYVSN', '2020-2-19'),
	('1', '7', 'A', '9YCZXYXXSD', '2020-3-23'),
	('3', '10', 'A', '7URQZEDERL', '2020-4-17'),
	('4', '5', 'A', '7CHNDUCFAO', '2020-3-2'),
	('3', '2', 'A', '9IOEHHNWOM', '2020-3-23'),
	('4', '3', 'A', '7ASQMPUDXW', '2020-3-26'),
	('2', '13', 'A', '5SUJQZSJOU', '2020-2-4'),
	('4', '12', 'B', '3SPPLVAQVI', '2020-2-25'),
	('3', '2', 'O', '1ZBMTQJURA', '2020-2-6'),
	('1', '14', 'A', '6LUWNVJKGJ', '2020-2-3'),
	('2', '13', 'O', '8RCOMIVSUI', '2020-2-7'),
	('1', '7', 'O', '7PCHATCGXU', '2020-4-23'),
	('2', '13', 'AB', '2DVHTDXRWQ', '2020-4-1'),
	('3', '2', 'O', '0KNVUTDYHU', '2020-2-2'),
	('3', '2', 'O', '8ZEHBUYTKS', '2020-4-15'),
	('1', '14', 'O', '1SMNQXZNFX', '2020-4-12'),
	('1', '1', 'O', '9DBCQPRYKM', '2020-3-15'),
	('4', '3', 'B', '6TQDUFYDPN', '2020-4-18'),
	('1', '1', 'A', '2TGIBFNYXO', '2020-2-7'),
	('4', '12', 'O', '5XSFQCXAHG', '2020-2-23'),
	('2', '11', 'O', '7BRVXMOEJB', '2020-2-15'),
	('1', '7', 'A', '0JNKJUIPVO', '2020-3-6'),
	('1', '1', 'A', '6GGVLWBVIV', '2020-3-21'),
	('3', '10', 'A', '2QACJPRGAE', '2020-2-15'),
	('4', '9', 'B', '2BXKVSLBDI', '2020-3-16'),
	('1', '14', 'B', '2TULVROYFO', '2020-3-19'),
	('1', '14', 'O', '9XNSELBXWC', '2020-3-13'),
	('1', '1', 'O', '7RMRXRKDAO', '2020-3-23'),
	('1', '14', 'A', '0HUAQJHUWI', '2020-3-9'),
	('1', '1', 'O', '0JWQURAONP', '2020-3-14'),
	('3', '10', 'O', '9GLQFOQZIK', '2020-2-1'),
	('1', '1', 'O', '9WODDZPAHT', '2020-2-24'),
	('4', '5', 'A', '6KFQBZYHXM', '2020-3-11'),
	('4', '6', 'A', '9ASUCPUWZX', '2020-3-23'),
	('1', '15', 'A', '0HWSCIFNGJ', '2020-2-12'),
	('4', '5', 'A', '6OTDZDAUSR', '2020-3-25'),
	('2', '4', 'A', '0DFATJCQYC', '2020-2-25'),
	('2', '13', 'A', '2MLRDLHTIX', '2020-4-18'),
	('4', '12', 'O', '5UXMLOFKQX', '2020-4-18'),
	('4', '6', 'O', '1HCEZQZIOK', '2020-3-20'),
	('2', '11', 'B', '8QUPEGYWPP', '2020-2-9'),
	('3', '2', 'B', '0AULMMEVOS', '2020-2-11'),
	('3', '10', 'O', '9XYZAJPRFA', '2020-2-15'),
	('1', '15', 'A', '7DYZQXDWBR', '2020-2-22'),
	('2', '11', 'O', '6KNXPWDWYM', '2020-3-3'),
	('3', '8', 'B', '3KZKAZPTKM', '2020-4-26'),
	('2', '4', 'B', '6QLDSYFJLK', '2020-3-16'),
	('2', '11', 'A', '7ELMWMNJRI', '2020-3-19'),
	('1', '14', 'A', '0ZCBDHWILI', '2020-4-25'),
	('1', '7', 'A', '3KHTDVNQNC', '2020-3-2'),
	('2', '11', 'O', '8LGBUFAXID', '2020-2-25'),
	('2', '4', 'O', '9CICVNJZKQ', '2020-2-2'),
	('3', '8', 'A', '9TFCVXUIMX', '2020-4-25'),
	('2', '13', 'A', '2QILAOZUYS', '2020-3-6'),
	('3', '2', 'A', '0VKROCPROP', '2020-2-18'),
	('2', '4', 'O', '0AFUTMPHBJ', '2020-4-8'),
	('3', '10', 'A', '2QFCQWFEAY', '2020-2-3'),
	('1', '14', 'O', '5NWJDEKYXA', '2020-3-12'),
	('2', '11', 'A', '1VPDRCODXJ', '2020-2-6'),
	('2', '4', 'AB', '0OOOAMWLKR', '2020-2-21'),
	('2', '4', 'O', '3SELEJXLFE', '2020-2-15'),
	('4', '6', 'O', '6VEGFGWNDY', '2020-3-7'),
	('4', '12', 'A', '7ATBIVBWLX', '2020-2-6'),
	('4', '6', 'B', '8SEIVCPFKB', '2020-2-21'),
	('1', '14', 'A', '2OIWNQYTMM', '2020-3-18'),
	('4', '5', 'A', '3OXZHRVOZE', '2020-4-27'),
	('2', '11', 'O', '8MDPIWCXCA', '2020-4-14'),
	('4', '6', 'O', '9LVZHNIKAA', '2020-3-2'),
	('4', '12', 'O', '8PGIRAJFTA', '2020-4-7'),
	('1', '15', 'A', '5CZOGCMITE', '2020-4-19'),
	('2', '11', 'O', '1UWNVFRQKP', '2020-4-15'),
	('2', '4', 'A', '4MIOIMZOPB', '2020-2-27'),
	('3', '10', 'AB', '7EARQXMNDK', '2020-2-24'),
	('1', '7', 'A', '5KHECGETFY', '2020-3-16'),
	('2', '4', 'A', '5NIEYWMLQY', '2020-4-14'),
	('4', '6', 'A', '9PDFHLLTXV', '2020-2-19'),
	('3', '2', 'A', '2DYDVLHVCX', '2020-4-14'),
	('4', '9', 'A', '2TDLYLJBUF', '2020-3-1'),
	('1', '14', 'O', '5ACTDXDHDV', '2020-2-24'),
	('2', '4', 'A', '5MSVBTLVST', '2020-4-13'),
	('4', '12', 'A', '3UNBWDKERP', '2020-2-11'),
	('2', '13', 'O', '4NQGJSWRTJ', '2020-3-18'),
	('1', '7', 'O', '7DZCSKTTYA', '2020-4-21'),
	('1', '14', 'A', '1HLBZTVEIN', '2020-3-13'),
	('2', '11', 'O', '5ZBDQEIDCK', '2020-3-4'),
	('3', '2', 'O', '9DQQOIMEFO', '2020-2-7'),
	('2', '4', 'B', '8KSVSWTNDV', '2020-3-7'),
	('1', '1', 'O', '5OLJVWZVXM', '2020-4-6'),
	('4', '9', 'O', '7KQBPDJAVF', '2020-3-1'),
	('4', '12', 'A', '3VIRRBLCPI', '2020-4-13'),
	('3', '10', 'A', '3PFXHRJDIF', '2020-4-4'),
	('4', '12', 'B', '3KUNUJQQHK', '2020-3-20'),
	('1', '7', 'O', '8ABUVVGLZF', '2020-2-10'),
	('2', '11', 'O', '5RDUACPGJC', '2020-4-2'),
	('2', '11', 'A', '4JWITYJCCM', '2020-4-20'),
	('4', '12', 'O', '5UNFOJITNZ', '2020-4-25'),
	('4', '9', 'O', '8SMPMTLUHE', '2020-4-24'),
	('1', '1', 'O', '8UIFBDSZQU', '2020-3-16'),
	('3', '8', 'B', '3ENWIRHCXS', '2020-4-19'),
	('3', '10', 'A', '7JXUISKSUJ', '2020-4-9'),
	('4', '6', 'O', '7JDEKZBCQD', '2020-4-26'),
	('3', '2', 'O', '1OYKYJUQJP', '2020-2-15'),
	('1', '14', 'O', '7BHSFOLAQY', '2020-3-8'),
	('2', '11', 'A', '5DEJRXDCZM', '2020-2-17'),
	('4', '12', 'A', '8IMKYAIMYW', '2020-2-4'),
	('3', '2', 'O', '0LGPOOINDG', '2020-4-12'),
	('2', '11', 'A', '3UWMWHMQNN', '2020-4-27'),
	('4', '3', 'O', '4JYIZHCPGC', '2020-3-7'),
	('3', '8', 'A', '2ZLPXTNIUT', '2020-2-12'),
	('2', '13', 'O', '8FFGROZWYD', '2020-4-15'),
	('1', '7', 'A', '9EJHDZANJJ', '2020-4-22'),
	('1', '14', 'O', '3EAQAIWCVI', '2020-2-22'),
	('2', '13', 'A', '5DQIWFKMEY', '2020-2-21'),
	('3', '8', 'B', '4CTMPDWGJW', '2020-2-15'),
	('1', '7', 'AB', '6QHEPOMVLS', '2020-2-4'),
	('4', '9', 'A', '0ZGDIUPJFS', '2020-4-7'),
	('4', '9', 'O', '0YRPGQNXPF', '2020-3-12'),
	('2', '13', 'B', '8KKYDPREIB', '2020-4-20'),
	('4', '9', 'A', '1QZFZUIKFA', '2020-3-3'),
	('4', '5', 'O', '3NNSELDZOZ', '2020-2-13'),
	('4', '6', 'A', '2EGPIIDLMM', '2020-2-16'),
	('1', '1', 'A', '9PQOXQPNCL', '2020-4-1'),
	('1', '14', 'A', '0QDERXBETW', '2020-3-12'),
	('4', '9', 'B', '6HCSYSWNZA', '2020-3-12'),
	('4', '3', 'O', '3HHWABOXKZ', '2020-4-5'),
	('4', '9', 'O', '9LIMYDRTXU', '2020-2-8'),
	('2', '13', 'B', '9AZUILBJTC', '2020-4-21'),
	('2', '13', 'A', '7LJLCBJXNS', '2020-4-11'),
	('2', '4', 'B', '7AYYKYOYSZ', '2020-4-6'),
	('2', '13', 'A', '0OUNZHVTBG', '2020-4-6'),
	('4', '3', 'A', '5GOFNCTSHK', '2020-3-8'),
	('4', '3', 'A', '5TJPWORNOG', '2020-4-4'),
	('3', '8', 'B', '3DABLOAJMM', '2020-3-25'),
	('4', '12', 'A', '6NLGMXQPXV', '2020-3-15'),
	('4', '3', 'AB', '1CZQXTHTXV', '2020-4-27'),
	('4', '12', 'O', '7RIQDGRASR', '2020-3-8'),
	('1', '1', 'A', '7SLIJDNOBB', '2020-2-2'),
	('3', '10', 'AB', '0YBPUAGSAT', '2020-4-18'),
	('3', '8', 'O', '0ZUICNFAKI', '2020-2-2'),
	('2', '4', 'A', '6HHFMXXFSO', '2020-3-20');
    
INSERT INTO site_hospital 
	(site_id, hospital_id)
VALUES
	(4, 12),
	(4, 6),
	(1, 14),
	(2, 11),
	(1, 7),
	(4, 3),
	(2, 13),
	(4, 5),
	(1, 15),
	(2, 4),
	(3, 8),
	(1, 1),
	(4, 9),
	(3, 2),
	(3, 10);
    
INSERT INTO donation_site
	(donation_id, site_id)
VALUES
	(54, 1),
	(137, 2),
	(15, 3),
	(92, 2),
	(127, 4),
	(68, 1),
	(18, 4),
	(93, 1),
	(53, 3),
	(138, 2),
	(139, 2),
	(40, 1),
	(87, 3),
	(136, 4),
	(110, 3),
	(134, 4),
	(26, 1),
	(105, 2),
	(107, 4),
	(75, 1),
	(98, 1),
	(125, 1),
	(148, 3),
	(61, 2),
	(70, 2),
	(2, 4),
	(12, 1),
	(130, 4),
	(111, 4),
	(101, 3),
	(46, 4),
	(128, 2),
	(52, 3),
	(95, 2),
	(85, 2),
	(99, 4),
	(141, 4),
	(71, 2),
	(74, 4),
	(6, 1),
	(51, 2),
	(63, 3),
	(35, 4),
	(22, 1),
	(104, 2),
	(132, 1),
	(114, 2),
	(145, 4),
	(47, 2),
	(103, 1),
	(57, 2),
	(42, 1),
	(147, 1),
	(58, 2),
	(78, 4),
	(10, 1),
	(83, 3),
	(16, 4),
	(49, 4),
	(109, 3),
	(117, 2),
	(121, 1),
	(9, 4),
	(120, 2),
	(142, 4),
	(143, 3),
	(13, 3),
	(90, 2),
	(122, 1),
	(24, 3),
	(102, 4),
	(79, 4),
	(7, 1),
	(124, 3),
	(144, 4),
	(106, 4),
	(80, 1),
	(60, 1),
	(29, 1),
	(100, 4),
	(67, 3),
	(129, 4),
	(82, 2),
	(41, 3),
	(44, 4),
	(1, 1),
	(140, 2),
	(38, 1),
	(30, 4),
	(118, 4),
	(112, 3),
	(150, 2),
	(62, 2),
	(64, 2),
	(76, 4),
	(69, 2),
	(28, 4),
	(91, 4),
	(36, 1),
	(116, 3),
	(55, 2),
	(14, 4),
	(20, 1),
	(86, 4),
	(72, 4),
	(37, 1),
	(34, 3),
	(84, 1),
	(115, 4),
	(45, 1),
	(32, 1),
	(94, 1),
	(77, 2),
	(149, 3),
	(25, 3),
	(17, 2),
	(135, 4),
	(4, 4),
	(133, 1),
	(123, 2),
	(88, 4),
	(73, 4),
	(119, 3),
	(27, 1),
	(113, 1),
	(31, 2),
	(97, 2),
	(96, 3),
	(48, 2),
	(50, 4),
	(131, 4),
	(19, 3),
	(39, 1),
	(126, 4),
	(8, 2),
	(66, 2),
	(23, 2),
	(146, 4),
	(33, 1),
	(108, 1),
	(59, 1),
	(21, 2),
	(43, 4),
	(5, 4),
	(56, 3),
	(81, 2),
	(3, 3),
	(11, 1),
	(89, 1),
	(65, 3);